<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="\brief           This function computes an ECDSA signature and writes it to a buffer, serialized as defined in RFC-4492: Elliptic Curve Cryptography (ECC) Cipher Suites for Transport Layer Security (TLS)."><title>mbedtls_ecdsa_write_signature_det in esp_idf_sys - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f40c346f39d9abc1.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="esp_idf_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.0-nightly (46514218f 2023-06-20)" data-search-js="search-95c92dd01058facf.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-190c35055d2a8300.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../esp_idf_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../esp_idf_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In esp_idf_sys</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">esp_idf_sys</a>::<wbr><a class="fn" href="#">mbedtls_ecdsa_write_signature_det</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/esp_idf_sys/home/runner/work/esp-idf-hal/esp-idf-hal/target/riscv32imc-esp-espidf/debug/build/esp-idf-sys-bb8d988eb52dbf09/out/bindings.rs.html#44842-44849">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn mbedtls_ecdsa_write_signature_det(
    ctx: *mut <a class="type" href="type.mbedtls_ecdsa_context.html" title="type esp_idf_sys::mbedtls_ecdsa_context">mbedtls_ecdsa_context</a>,
    hash: *const c_uchar,
    hlen: usize,
    sig: *mut c_uchar,
    slen: *mut usize,
    md_alg: <a class="type" href="type.mbedtls_md_type_t.html" title="type esp_idf_sys::mbedtls_md_type_t">mbedtls_md_type_t</a>
) -&gt; c_int</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>\brief           This function computes an ECDSA signature and writes
it to a buffer, serialized as defined in <em>RFC-4492:
Elliptic Curve Cryptography (ECC) Cipher Suites for
Transport Layer Security (TLS)</em>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code>             The deterministic version is defined <span class="kw">in </span>&lt;em&gt;RFC-<span class="number">6979</span>:
             Deterministic Usage of the Digital Signature Algorithm (DSA)
             and Elliptic Curve Digital Signature Algorithm (ECDSA)&lt;/em&gt;.</code></pre></div>
<p>\warning         It is not thread-safe to use the same context in
multiple threads.</p>
<p>\note            If the bitlength of the message hash is larger than the
bitlength of the group order, then the hash is truncated as
defined in <em>Standards for Efficient Cryptography Group
(SECG): SEC1 Elliptic Curve Cryptography</em>, section
4.1.3, step 5.</p>
<p>\see             ecp.h</p>
<p>\deprecated      Superseded by mbedtls_ecdsa_write_signature() in
Mbed TLS version 2.0 and later.</p>
<p>\param ctx       The ECDSA context to use. This must be initialized
and have a group and private key bound to it, for example
via mbedtls_ecdsa_genkey() or mbedtls_ecdsa_from_keypair().
\param hash      The message hash to be signed. This must be a readable
buffer of length \p blen Bytes.
\param hlen      The length of the hash \p hash in Bytes.
\param sig       The buffer to which to write the signature. This must be a
writable buffer of length at least twice as large as the
size of the curve used, plus 9. For example, 73 Bytes if
a 256-bit curve is used. A buffer length of
#MBEDTLS_ECDSA_MAX_LEN is always safe.
\param slen      The address at which to store the actual length of
the signature written. Must not be \c NULL.
\param md_alg    The message digest that was used to hash the message.</p>
<p>\return          \c 0 on success.
\return          An \c MBEDTLS_ERR_ECP_XXX, \c MBEDTLS_ERR_MPI_XXX or
\c MBEDTLS_ERR_ASN1_XXX error code on failure.</p>
</div></details></section></div></main></body></html>